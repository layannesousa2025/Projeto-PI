<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Categorias Esportivas</title>

    <!-- CSS -->
    <link rel="stylesheet" href="./Css/categoria.css">
    <link rel="stylesheet" href="./Css/ajustesAcessibilidade01.css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <!-- ======== CABE√áALHO ======== -->
    <header class="header">
        <input type="checkbox" id="menu-toggle" class="menu-toggle">

        <a href="./telaPrincipal.php" class="logo">
            <img src="./img/Logo.png" alt="Logo ChampionsSports" width="50" height="50">
            <p>ChampionsSports</p>
        </a>

        <label for="menu-toggle" class="menu-icon">
            <span class="hamburguer"></span>
        </label>

        <nav class="nav">
            <ul>
                <li><a href="telaPrincipal.php">In√≠cio</a></li>
                <li><a href="categorias.php">Categorias</a></li>
                <li><a href="eventos.html">Eventos</a></li>
                <li><a href="sobre.html">Sobre</a></li>
                <li><a href="contato.html">Contato</a></li>
            </ul>
        </nav>

        <div class="voltar">
            <a href="./telaPrincipal.php">
                <img src="./img/button (2).png" alt="Voltar √† p√°gina inicial">
            </a>
        </div>

        <div class="usuario">
            <a href="usuario.html">
                <img src="./img/login2.png" alt="Acessar √°rea do usu√°rio" width="60" height="60"
                    style="object-fit: contain;">
            </a>
        </div>
    </header>

    <!-- ======== CONTE√öDO PRINCIPAL ======== -->
    <main>
        <section>
            <h2>Busque Suas Categorias</h2>
            <p style="text-align: center; color: #ccc; margin-top: -10px; margin-bottom: 20px;">
                Clique na estrela ‚òÖ para adicionar uma categoria aos seus favoritos!
            </p>

            <!-- ======== ACESSIBILIDADE ======== -->
            <div class="acessibilidade">
                <div class="events-grid" id="events-grid">
                    <!-- AJUSTES DE TEXTO -->
                    <div id="pertoTextAdMain" tabindex="-1">
                        <button id="pertoTextAdTop" tabindex="0"
                            aria-label="Ajustes de Texto Pressione Enter para entrar, o tab para continuar">
                            <div id="pertoTAdTextImgTop">
                                <div style="font-size: 20px; font-weight: bold;">Aa</div>
                                <div>
                                    <span class="pertoTitle">Ajustes de Texto</span>
                                    <span class="pertoSubTitle">Tamanho, Espa√ßamento e Formata√ß√£o de Texto</span>
                                </div>
                            </div>
                            <span style="font-size: 20px;">‚ñº</span>
                        </button>
                        <div id="pertoTextSizeOptions" tabindex="-1" class="pertoOptions" style="max-height: 0px;">
                            <!-- Conte√∫do dos sliders -->
                        </div>
                    </div>

                    <!-- AJUSTES DE CORES -->
                    <div id="pertoTextColorAdMain" tabindex="-1">
                        <button id="pertoTextColorAdTop" tabindex="0"
                            aria-label="Ajustes de Cores Pressione Enter para entrar, o tab para continuar">
                            <div id="pertoColorTextImgTop">
                                <div style="font-size: 20px;">üé®</div>
                                <div>
                                    <span class="pertoTitle">Ajustes de Cores</span>
                                    <span class="pertoSubTitle">Cor do Texto, T√≠tulo, Fundo e Contraste</span>
                                </div>
                            </div>
                            <span style="font-size: 20px;">‚ñº</span>
                        </button>
                        <div id="pertoTextColorOptions" tabindex="-1" class="pertoOptions" style="max-height: 0px;">
                            <!-- Op√ß√µes de cor -->
                        </div>
                    </div>
                </div>
            </div>

            <div class="container">
                <div class="search-container">
                    <input type="text" class="search-bar" placeholder="Buscar categoria...">
                    <img src="./img/img-pesquisa (1).png" alt="√çcone de busca" class="search-icon">
                </div>

                <div class="categories-grid">
                    <div class="category-card" data-category="Ciclismo">
                        <i class="fas fa-star favorite-star"></i>
                        <img src="./img/bike.png" alt="Ciclismo" class="category-icon">
                        <span class="category-name">Ciclismo</span>
                    </div>
                    <div class="category-card" data-category="Futebol">
                        <i class="fas fa-star favorite-star"></i>
                        <img src="./img/jogador.png" alt="Futebol" class="category-icon">
                        <span class="category-name">Futebol</span>
                    </div>
                    <div class="category-card" data-category="Voleibol">
                        <i class="fas fa-star favorite-star"></i>
                        <img src="./img/volei.png" alt="Voleibol" class="category-icon">
                        <span class="category-name">Voleibol</span>
                    </div>
                    <div class="category-card" data-category="Academia">
                        <i class="fas fa-star favorite-star"></i>
                        <img src="./img/musculacao.png" alt="Academia" class="category-icon">
                        <span class="category-name">Academia</span>
                    </div>
                    <div class="category-card" data-category="Caminhada">
                        <i class="fas fa-star favorite-star"></i>
                        <img src="./img/caminhada.png" alt="Caminhada" class="category-icon">
                        <span class="category-name">Caminhada</span>
                    </div>
                    <div class="category-card" data-category="Nata√ß√£o">
                        <i class="fas fa-star favorite-star"></i>
                        <img src="./img/natacao.png" alt="Nata√ß√£o" class="category-icon">
                        <span class="category-name">Nata√ß√£o</span>
                    </div>
                    <div class="category-card" data-category="Lazer">
                        <i class="fas fa-star favorite-star"></i>
                        <img src="./img/lazer.png" alt="Lazer" class="category-icon">
                        <span class="category-name">Lazer</span>
                    </div>
                    <div class="category-card" data-category="PCD">
                        <i class="fas fa-star favorite-star"></i>
                        <img src="./img/rodas.png" alt="Esportes para PCD" class="category-icon">
                        <span class="category-name">PCD</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- ======== RODAP√â ======== -->
    <footer id="contact">
        <div class="footer-content">
            <div class="footer-columns">
                <div class="footer-about">
                    <h4>Sobre N√≥s</h4>
                    <p>O ChampionsSports conecta voc√™ aos melhores eventos esportivos e promo√ß√µes na sua regi√£o.</p>
                </div>

                <div class="footer-links">
                    <h4>Links R√°pidos</h4>
                    <ul>
                        <li><a href="telaPrincipal.php">In√≠cio</a></li>
                        <li><a href="eventos.html">Eventos</a></li>
                        <li><a href="sobre.html">Sobre</a></li>
                        <li><a href="#">Termos de Uso</a></li>
                        <li><a href="#">Pol√≠tica de Privacidade</a></li>
                    </ul>
                </div>

                <div class="footer-contact">
                    <h4>Contato</h4>
                    <ul>
                        <li><i class="fas fa-envelope"></i>
                            <a href="mailto:contato@ChampionsSports.com">contato@ChampionsSports.com</a>
                        </li>
                        <li><i class="fas fa-phone"></i>
                            <a href="tel:+5561999999999">(61) 99999-9999</a>
                        </li>
                        <li><i class="fas fa-map-marker-alt"></i> QNL-5657575 - Taguatinga, Bras√≠lia-DF</li>
                    </ul>
                </div>

                <div class="footer-social">
                    <h4>Siga-nos</h4>
                    <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                    <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" aria-label="Discord"><i class="fab fa-discord"></i></a>
                </div>
            </div>

            <div class="footer-bottom">
                <p class="copyright">¬© 2025 ChampionsSports. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- ======== SCRIPTS ======== -->
    <script src="./Js/ajustesAcessibilidade01.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const categoryCards = document.querySelectorAll('.category-card');
            const searchBar = document.querySelector('.search-bar');

            const updateStars = (favorites = []) => {
                categoryCards.forEach(card => {
                    const star = card.querySelector('.favorite-star');
                    star.classList.toggle('favorited', favorites.includes(card.dataset.category));
                });
            };

            const toggleFavorite = async (category, star) => {
                const isFavorited = star.classList.contains('favorited');
                const action = isFavorited ? 'remove' : 'add';

                try {
                    const response = await fetch('categorias.php', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ categoria: category, acao: action }),
                    });

                    const result = await response.json();
                    if (response.ok && result.success) {
                        star.classList.toggle('favorited');
                    } else {
                        alert(result.message || 'Erro ao atualizar favorito.');
                    }
                } catch (err) {
                    console.error(err);
                    alert('N√£o foi poss√≠vel conectar ao servidor.');
                }
            };

            const loadFavorites = async () => {
                try {
                    const response = await fetch('get_favoritos.php');
                    const data = await response.json();
                    if (data.success) updateStars(data.favorites);
                } catch (err) {
                    console.error('Erro ao carregar favoritos:', err);
                }
            };

            categoryCards.forEach(card => {
                const category = card.dataset.category;
                const star = card.querySelector('.favorite-star');

                star.addEventListener('click', e => {
                    e.stopPropagation();
                    toggleFavorite(category, star);
                });

                card.addEventListener('click', () => {
                    window.location.href = `eventos.html?game=${category}`;
                });
            });

            searchBar.addEventListener('input', e => {
                const term = e.target.value.toLowerCase();
                categoryCards.forEach(card => {
                    const name = card.dataset.category.toLowerCase();
                    card.style.display = name.includes(term) ? '' : 'none';
                });
            });

            loadFavorites();
        });
    </script>
</body>

</html>